<!DOCTYPE >
<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title></title>
  <script type="text/javascript" src="js/definedMap.js" ></script>
		<script type="text/javascript" src="js/jquery-2.1.1.js" ></script>
		<script type="text/javascript" src="js/jquery-ui.js" ></script>
		<script type="text/javascript" src="js/jquery.contextmenu.js" ></script>
		<script type="text/javascript" src="myWriteJs/alignAction.js" ></script>
		<script type="text/javascript" src="myWriteJs/common.js" ></script>
		<script type="text/javascript" src="myWriteJs/contextMenu.js" ></script>
		<script type="text/javascript" src="myWriteJs/definedFromControls.js" ></script>
		<script type="text/javascript" src="js/bootstrap.js" ></script>
		<script type="text/javascript" src="js/bootstrap.min.js" ></script>
		<script type="text/javascript" src="js/spectrum.js" ></script>
		<script type="text/javascript" src="myWriteJs/propertyControls.js" ></script>
		<script type="text/javascript" src="js/jquery.json-2.3.js" ></script>
		<script type="text/javascript" src="js/dom2json.js" ></script>
		
		<link rel="stylesheet" href="myWriteCss/common.css" />
		<link rel="stylesheet" href="myWriteCss/prettyBtn.css" />
		<link rel="stylesheet" href="css/jquery.contextmenu.css" />
		<link rel="stylesheet" href="css/jquery-ui.css" />
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/bootstrap.css" />
		<link rel="stylesheet" href="css/spectrum.css" />
  
  <head></head>
  <body>
<style type="text/css">

#rRightDown,#rLeftDown,#rLeftUp,#rRightUp,#rRight,#rLeft,#rUp,#rDown{
	position:absolute;
	background:#C00;
	width:7px;
	height:7px;
	z-index:5;
	font-size:0;
}

#rLeftDown,#rRightUp{cursor:ne-resize;}
#rRightDown,#rLeftUp{cursor:nw-resize;}
#rRight,#rLeft{cursor:e-resize;}
#rUp,#rDown{cursor:n-resize;}

#rLeftDown{left:-4px;bottom:-4px;}
#rRightUp{right:-4px;top:-4px;}
#rRightDown{right:-4px;bottom:-4px;background-color:#00F;}
#rLeftUp{left:-4px;top:-4px;}
#rRight{right:-4px;top:50%;margin-top:-4px;}
#rLeft{left:-4px;top:50%;margin-top:-4px;}
#rUp{top:-4px;left:50%;margin-left:-4px;}
#rDown{bottom:-4px;left:50%;margin-left:-4px;}

</style>
<script>
</script>
<body>
	<!--
<input type="text" class="file" id="f_file">
<input type="button" value="上传文件" class="file" onClick="t_file.click()">
<input name="upload" type="file" id="t_file" onchange="f_file.value=this.value" style="display:none">
	-->
	
	<div id="selectTagDiv" style="overflow:scroll; width:100%; height: 90%;
				padding-top:5px;padding-bottom: 45px;">
				<button id="Recbox" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一个方框">
					<img src="img/rect.png"/>
				</br>方	框
				</button></br>
				<button id="wordBtn" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一个文本标签">
					<img src="img/word.png"/>
				</br>文	字
				</button></br>
				
				<button id="straightLine" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一条直线">
					<img src="img/line.png"/>
				</br>直	线
				</button></br>
				
				<button id="inputFrame" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一个单行输入框表单控件">
					<img src="img/input.png"/>
				</br>输入框 
				</button></br>
				
				<button id="textarea" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一个多行文本输入控件">
					<img src="img/textarea.png"/>
				</br>文本框 
				</button></br>
				
				<button id="downselect" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一个表单下拉控件">
					<img src="img/xialaselect.png"/>
				</br>下拉框  
				</button></br>
				<button id="ListAndComboxOne" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一个带展开列表的输入框控件">
					<img src="img/list.png"/>
				</br>列表一
				</button></br>
				<button id="ListAndComboxTwo" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一个带隐藏列表的输入框控件">
					<img src="img/list.png"/>
				</br>列表二
				</button></br>
				
				<button id="dateBtn" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一个可选择日期的控件">
					<img src="img/date.png"/>
				</br>日期框 
				</button></br>
				<button id="fileBox" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一个文件管理框控件">
					<img src="img/file.png"/>
				</br>文件框 
				</button></br>
				<button id="erweimaBtn" class="btn btn-default btn-sm SelectBtn"
				data-toggle="tooltip" data-placement="right" 
		   			title="绘制一张二维码图片">
					<img src="img/erweima.png"/>
				</br>二维码 
				</button></br>
				
				<button id="radio" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一个单选的表单控件">
					<img src="img/radio.png"/>
				</br>单选框 
				</button></br>
				
				<button id="combox" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一个复选的表单控件">
					<img src="img/combox.png"/>
				</br>复选框 
				</button></br>
				
				<button id="submitBtn" class="btn btn-default btn-sm SelectBtn"
					data-toggle="tooltip" data-placement="right" 
		   			title="绘制一个用于提交表单的控件">
					<img src="img/sumbit.png"/>
				</br>提 交
				</button></br>
				<script>
					$(function () { $("[data-toggle='tooltip']").tooltip(); });
				</script>
			</div>
	
	
	
	<button onclick="transf()">转换</button>
		<button onclick="toJsonMethod()">ToJson</button>
	<script>
	function transf(){
		var publicSpan = $("<span>",{"id":"ListBoxOne","class":"publ"});
		$("<label>",{"class":"ListBoxOneName"}).text("姓   名").appendTo(publicSpan);
		$("<input>",{'class':'listBoxOneinputClass'}).appendTo(publicSpan);
		var selectTag = $('<select>',{'class':'listBoxOneinputTag','multiple':'multiple','change':function(){
			getOptionAndToStr(event);
		}}).appendTo(publicSpan);
		$('<option>',{'class':'listBoxOneOption1'}).text("我的选择与众不同").appendTo(selectTag);
		$('<option>',{'class':'listBoxOneOption2'}).text("选择品牌1").appendTo(selectTag);
		$('<option>',{'class':'listBoxOneOption3'}).text("选择品牌2").appendTo(selectTag);
		$('<option>',{'class':'listBoxOneOption4'}).text("23").appendTo(selectTag);
		$('<option>',{'class':'listBoxOneOption5'}).text("23").appendTo(selectTag);
		$('<option>',{'class':'listBoxOneOption6'}).text("255").appendTo(selectTag);
		
		$(publicSpan).appendTo("body");
		
	}
	function toJsonMethod(){
		var doc = document.getElementById("selectTagDiv");	
		var publicSpanDoc = document.getElementById("ListBoxOne");
		console.log($(publicSpanDoc).width());
		console.log(JsonML.fromHTML(publicSpanDoc));
		var Dom = JsonML.fromHTMLText(publicSpanDoc.outerHTML);
		console.log(Dom);
	}
	</script>
</body>
</html>


















